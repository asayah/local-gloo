metadata:
  name: default
  namespace: gloo-system
  resourceVersion: "28"
sslConfig:
  sslFiles:
    tlsCert: /opt/gloo/tls.crt
    tlsKey: /opt/gloo/tls.key
status:
  reportedBy: gateway
  state: Accepted
  subresourceStatuses:
    '*v1.Proxy.gloo-system.gateway-proxy':
      reportedBy: gloo
      state: Accepted
virtualHost:
  domains:
  - '*'
  options:
    extauth:
      configRef:
        name: opa-auth
        namespace: gloo-system
    waf:
      customInterventionMessage: ModSecurity intervention! No scammers allowed!
      ruleSets:
      - ruleStr: "# Turn rule engine on\nSecRuleEngine On\nSecRule REQUEST_HEADERS:User-Agent \"scammer\" \"deny,status:403,id:107,phase:1,msg:'blocked scammer'\"      \n"
  routes:
  - matchers:
    - prefix: /
    options:
      headerManipulation:
        responseHeadersToAdd:
        - header:
            key: custom
            value: user
    routeAction:
      single:
        upstream:
          name: echo
          namespace: gloo-system
